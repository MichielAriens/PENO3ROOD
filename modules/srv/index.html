<!DOCTYPE html>
<html>
	<head>
		<title>
			RedZeppelin
		</title>
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<link rel="shortcut icon" href="images/favicon.ico" />
		<script type="text/javascript" src="scripts/jquery-2.0.3.js"></script>
		<script>
			var IOheight = 20;
		</script>
	</head>
	<body>
		<div id="header">
			<h1>RedZeppelin</h1>
			<h3>PENO 2013-14 team: ROOD</h3>		
		</div>
		<div id="info" >
				lift:<br>
				<div class="boxed" id="IOlift">NA</div>
				<label class="label"><small>-100</small></label>
				<input type="range" name="slider1" class="slider" value="50" min="-100" max="100" disabled>
				<label class="label"><small>100</small></label>
				<br><br>
				thrust:<br>
				<div class="boxed" id="IOthrust">NA</div>
				<label class="label"><small>-100</small></label>
				<input type="range" name="slider1" class="slider" value="50" min="-100" max="100" disabled>
				<label class="label"><small>100</small></label>
				<br><br>
				rudder:<br>
				<div class="boxed" id="IOrudder">NA</div>
				<label class="label"><small>-100</small></label>
				<input type="range" name="slider1" class="slider" value="50" min="-100" max="100" disabled>
				<label class="label"><small>100</small></label>
				<br><br>
				height:<br>
				<div class="boxed" id="IOheight">NA</div>
				<label class="label"><small>-100</small></label>
				<input type="range" name="slider1" id="slider1" class="slider" value="50" min="-100" max="100" disabled>
				<label class="label"><small>100</small></label>
				<br><br><br>
				</div>
			
			
			<div id="input" action="setheight">
				<form id="heightform">
					Desired height:<input type="text" name="dHeight">
					<input type="submit" value="Submit" class="submit">
				</form>
			</div>
			
		</div>
		
		
		
		
		<script>
			//form handler. Will send the form via ajax and prohibit the browser from refreshing.
			$(document).ready(function(){
			   var $form = $('form');
			   $form.submit(function(){
			      $.post("setheight", $(this).serialize(), function(response){
			            // do nothing
			      },'json');
			      return false;
			   });
			});
			
			function reloadData(){
				//reload the height
				$.get( "height", {} )
  					.done(function( data ) {
  						$('#IOheight').html("" + data);
    				}
  				);
  				window.setTimeout(reloadData, 1000);
  				
  				//reoad the lift
  				$.get("lift",{})
  					.done(function(data){
  						$('#IOlift').html("" + data);
  					}
  				);
			}
			
			//reload the data every 1000ms
			window.setInterval(reloadData(),1000);
		
			
			
			
			window.addEventListener('keydown', function (e) {
		        	var keyCode = e.keyCode || e.which,
		      		arrow = {left: 37, up: 38, right: 39, down: 40 };
		
		  			switch (keyCode) {
		    		case arrow.left:
		      		alert("Left pressed");
		    		break;
		    		case arrow.up:
		      		alert("Up pressed");
		    		break;
				    case arrow.right:
				    alert("Right pressed");
				    break;
				    case arrow.down:
				    alert("Down pressed");
				    break;
	  				}
	    		}
			, false);
			
			window.addEventListener('keyup', function (e) {
		        	var keyCode = e.keyCode || e.which,
		      		arrow = {left: 37, up: 38, right: 39, down: 40 };
		
		  			switch (keyCode) {
		    		case arrow.left:
		      		//actie
		    		break;
		    		case arrow.up:
		      		
		    		break;
				    case arrow.right:
				    
				    break;
				    case arrow.down:
				    
				    break;
	  				}
	    		}
			, false);

		</script>		
	</body>
	
</html>